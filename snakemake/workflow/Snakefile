from snakemake.utils import min_version

min_version("6.4.1")


configfile: "config/config.yaml"


report: "report/workflow.rst"


container: "continuumio/miniconda3"


include: "rules/plot_mean_correlations.smk"


def all_inputs(_):
    """
    Return all files we want from this analysis.
    """
    inputs = []
    for analysis in "ssvep alpha".split():
        for volume_type in "continuous trialwise".split():
            inputs += expand("results/plot_mean_correlations/plots/startvolume-{startvolume}_variable-{variable}_baselined-{baselined}_{analysis}_occipital.png",
                analysis=analysis,
                startvolume=config["analyses"][analysis][volume_type]["volumes"],
                variable=config["analyses"][analysis][volume_type]["variables"],
                baselined=config["analyses"][analysis][volume_type]["compare to baseline"],
            )

    return inputs


rule all:
    input:
        all_inputs
